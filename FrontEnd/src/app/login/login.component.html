<app-header></app-header>
<app-navbar></app-navbar>

<div class="login-page">
  <div class="login-box">
    <img src="assets/logo.svg" alt="Logo" class="login-logo" />

    <h2 class="login-title">Iniciar sesión</h2>

    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
      <div class="form-group">
        <label>Correo Electrónico</label>
        <input 
          type="email" 
          formControlName="email" 
          placeholder="xxxxx@correo.com"
          [class.invalid]="loginForm.get('email')?.invalid && loginForm.get('email')?.touched"
        />
      </div>

      <div class="form-group">
        <label>Contraseña</label>
        <div class="password-wrapper">
          <input 
            [type]="showPassword ? 'text' : 'password'" 
            formControlName="password" 
            placeholder="************"
          />
          <button type="button" (click)="togglePasswordVisibility()">Mostrar</button>
        </div>
      </div>

      <div class="link-group">
        <a routerLink="/recuperar-contrasena">¿Olvidaste tu contraseña?</a>
      </div>

      <div class="btn-group">
        <button type="submit" [disabled]="loading || !loginForm.valid" class="btn-primary">
          {{ loading ? 'Cargando...' : 'Ingresar' }}
        </button>

        <button type="button" (click)="loginWithGoogle()" class="btn-google">
          <img src="assets/google-icon.svg" alt="Google" />
          Continuar con Google
        </button>
      </div>

      <div class="signup">
        <span>¿No tienes cuenta?</span>
        <a routerLink="/registro">Regístrate</a>
      </div>
    </form>
  </div>
</div>
